"'Measurement Screen' As screen":
    Fill: =varTheme.backgroundWhite
    OnVisible: |-
        =UpdateContext({ctxShowEditDialog: false});
        If(CountRows(colMeasurements) = 0,
            ClearCollect(colMeasurements, [
                    {name: "Width", value: varMeasurementObject.measurements.BoundingWidth},
                    {name: "Height", value: varMeasurementObject.measurements.Height},
                    {name: "Depth", value: varMeasurementObject.measurements.BoundingDepth},
                ]
            )
        );

    conMeasurementContent As groupContainer.verticalAutoLayoutContainer:
        Height: =Parent.Height - 40
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =5
        LayoutMode: =LayoutMode.Auto
        Width: =Parent.Width
        ZIndex: =1

        conMeasurementHeader As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =100 
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            Width: =Parent.Width
            ZIndex: =1

            lblMRMeasurementTitle As label:
                Align: =Align.Center
                Font: =varTheme.font
                Height: =Parent.Height
                Size: =34
                Text: ="MR Measurement"
                Width: =Parent.Width
                ZIndex: =1

            icnBackToCustomerList As icon.Cancel:
                Color: =RGBA(0, 0, 0, 1)
                Height: =100
                Icon: =Icon.ChevronLeft
                OnSelect: =Back(ScreenTransition.UnCoverRight)
                PaddingBottom: =30
                PaddingLeft: =30
                PaddingRight: =30
                PaddingTop: =30
                Width: =100
                ZIndex: =2

        imgMeasurements As image:
            BorderColor: =RGBA(237, 237, 237, 1)
            Height: =Self.Width
            Image: ='Coffee MR_Dimensions illustration_X2'
            ImagePosition: =ImagePosition.Fill
            Width: =Parent.Width - 44
            ZIndex: =2

        "galMeasurements As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =250
            Items: =colMeasurements
            Layout: =Layout.Vertical
            LayoutMinHeight: =287
            LayoutMinWidth: =320
            TemplatePadding: =10
            TemplateSize: =70
            Width: =Parent.Width
            ZIndex: =3

            conMeasurement As groupContainer.manualLayoutContainer:
                Height: =70
                Width: =400
                X: =Parent.TemplateWidth/2 - Self.Width/2
                ZIndex: =4

                figMeasurementSeparator As rectangle:
                    BorderColor: =RGBA(32, 54, 71, 1)
                    Fill: =Color.LightGray
                    Height: =2
                    OnSelect: =
                    Width: =Parent.Width - 30
                    X: =20
                    Y: =Parent.Height - 3
                    ZIndex: =1

                conMeasurementValue As groupContainer.horizontalAutoLayoutContainer:
                    Height: =70
                    LayoutMode: =LayoutMode.Auto
                    Width: =Parent.Width
                    ZIndex: =2

                    lblMeasurementLabel As label:
                        Align: =Align.Right
                        FontWeight: =FontWeight.Semibold
                        Height: =70
                        LayoutMinHeight: =70
                        LayoutMinWidth: =560
                        Size: =21
                        Text: |-
                            =ThisItem.name & ":"
                        Width: =120
                        X: =40
                        ZIndex: =1

                    lblMeasurement As label:
                        FillPortions: =1
                        Height: =70
                        LayoutMinHeight: =70
                        LayoutMinWidth: =100
                        Size: =21
                        Text: =ThisItem.value & "cm"
                        Width: =Parent.Width - lblMeasurementLabel.Width
                        X: =20
                        ZIndex: =2

                    icnEdit As icon.Edit:
                        Color: =RGBA(0, 0, 0, 1)
                        Height: =70
                        Icon: =Icon.Edit
                        PaddingBottom: =10
                        PaddingLeft: =10
                        PaddingRight: =10
                        PaddingTop: =10
                        ZIndex: =3

                btnMeasurementOverlay As button:
                    Color: =RGBA(0, 0, 0, 1)
                    Fill: =Color.Transparent
                    Height: =70
                    HoverBorderColor: =Color.LightGray
                    HoverFill: =ColorFade(Self.Fill, -20%)
                    OnSelect: |
                        =UpdateContext({ctxSelectedMeasurement: ThisItem, ctxShowEditDialog: true});
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    PressedFill: =Color.Transparent
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =20
                    Text: =
                    Width: =Parent.Width
                    ZIndex: =3

        Container2 As groupContainer.manualLayoutContainer:
            Height: =225
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            ZIndex: =5

            btnUseAsFilter As button:
                BorderThickness: =0
                Color: =varTheme.backgroundWhite
                DisabledColor: =varTheme.backgroundWhite
                Fill: =varTheme.primaryColor
                FontWeight: =FontWeight.Normal
                Height: =60
                HoverColor: =varTheme.backgroundWhite
                HoverFill: =Self.Fill
                OnSelect: |-
                    =Refresh('coffeeItems (microsoft/powerApps/beta)');
                    Navigate('Coffee Machines List Screen', ScreenTransition.Cover);
                PressedColor: =varTheme.backgroundWhite
                RadiusBottomLeft: =80
                RadiusBottomRight: =80
                RadiusTopLeft: =80
                RadiusTopRight: =80
                Size: =18
                Text: ="Filter Products"
                Width: =240
                X: =Parent.Width/2 - Self.Width/2
                Y: =Parent.Height/2 - Self.Height/2 + 10
                ZIndex: =1

    conEditOverlay As groupContainer.manualLayoutContainer:
        Fill: =RGBA(219, 219, 219, 0.6)
        Height: =Parent.Height
        RadiusBottomLeft: =10
        RadiusBottomRight: =10
        RadiusTopLeft: =10
        RadiusTopRight: =10
        Visible: =ctxShowEditDialog
        Width: =Parent.Width
        ZIndex: =2

        conEditMeasurement As groupContainer.verticalAutoLayoutContainer:
            BorderColor: =Color.LightGray
            BorderThickness: =2
            Fill: =varTheme.backgroundWhite
            Height: =350
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =30
            RadiusBottomRight: =30
            RadiusTopLeft: =30
            RadiusTopRight: =30
            X: =Parent.Width/2 - Self.Width/2
            Y: =Parent.Height/2 - Self.Height/2
            ZIndex: =7

            icnCloseMeasurement As icon.Cancel:
                AlignInContainer: =AlignInContainer.End
                Color: =RGBA(0, 0, 0, 1)
                Height: =70
                Icon: =Icon.Cancel
                OnSelect: |-
                    =UpdateContext({ctxShowEditDialog: false, ctxSelectedMeasurement: Blank()})
                PaddingBottom: =15
                PaddingLeft: =15
                PaddingRight: =15
                PaddingTop: =15
                Width: =70
                X: =357
                Y: =392
                ZIndex: =1

            lblMeasurementName As label:
                Font: =Font.'Segoe UI'
                Height: =60
                LayoutMinHeight: =70
                LayoutMinWidth: =560
                Size: =20
                Text: |-
                    =ctxSelectedMeasurement.name & ":"
                Width: =350
                X: =140
                Y: =58
                ZIndex: =2

            inpMeasurementValue As text:
                BorderColor: =Color.LightGray
                Default: =ctxSelectedMeasurement.value
                Format: =TextFormat.Number
                Height: =70
                LayoutMinHeight: =70
                LayoutMinWidth: =560
                Size: =26
                Width: =350
                X: =140
                Y: =108
                ZIndex: =3

            conMeasureEditButton As groupContainer.manualLayoutContainer:
                Height: =150
                LayoutMinHeight: =112
                LayoutMinWidth: =250
                ZIndex: =5

                btnSaveMeasurement As button:
                    BorderColor: =varTheme.primaryColor
                    Color: =varTheme.primaryColor
                    Fill: =varTheme.backgroundWhite
                    Height: =70
                    HoverFill: =ColorFade(Self.Fill, -20%)
                    OnSelect: |-
                        =Patch(colMeasurements, {name: ctxSelectedMeasurement.name}, {value: Value(inpMeasurementValue.Text)});
                        Reset(inpMeasurementValue);
                        UpdateContext({ctxShowEditDialog: false});
                    RadiusBottomLeft: =50
                    RadiusBottomRight: =50
                    RadiusTopLeft: =50
                    RadiusTopRight: =50
                    Size: =20
                    Text: ="Save"
                    Width: =200
                    X: =Parent.Width/2 - Self.Width/2
                    Y: =40
                    ZIndex: =1

